var body=document.querySelector("body"),home=document.querySelector("#home"),result=document.querySelector("#result"),form=document.querySelector("#form-date"),day=document.querySelector("#day"),month=document.querySelector("#month"),year=document.querySelector("#year"),resultDays=document.querySelector("#r-days"),resultHours=document.querySelector("#r-hours"),resultMinutes=document.querySelector("#r-minutes"),resultSeconds=document.querySelector("#r-seconds"),btn=document.querySelector("#validate"),progressBar=document.querySelector("#progress"),progressValue=document.querySelector("#progress-val"),resultTitle=document.querySelector("#result-title"),resultDesc=document.querySelector("#result-desc"),timerWrapper=document.querySelector("#timer"),wizardWrapper=document.querySelector("#wizard"),ageValWrapper=document.querySelector("#age"),wizardAge=30;function validateDate(){var e=parseInt(day.value),t=month[month.selectedIndex],r=parseInt(t.getAttribute("data-days"));return!(r<e)||(alert("Miesiąc "+t.text+" ma "+r+"dni! Popraw datę."),!1)}function scrollTop(){var e=document.documentElement.scrollTop||document.body.scrollTop;0<e&&(window.requestAnimationFrame(scrollTop),window.scrollTo(0,e-e/5))}function getAge(e,t,r){var s=new Date,a=new Date(e,t,r),o=s.getFullYear()-a.getFullYear();return((t=s.getMonth()-a.getMonth())<0||0===t&&s.getDate()<a.getDate())&&o--,o}function initResult(s,a,o){new Date,s=parseInt(s),a=parseInt(a),o=parseInt(o);var e=getAge(s,a,o);switch(ageValWrapper.innerHTML=e,!0){case e<=15:title="Będą z Ciebie normiki, może...",desc="Nie zasługujesz aby tu być, jesteś zbyt młody i niedoświadczony. <br> Korzystaj z życia póki możesz.";break;case 15<e&&e<=21:title="No powoli już by można...",desc="To jest dobry moment żeby zmienić swoją sytuację, młody z dużą dawką testosteronu.  Nie zmarnuj tej szansy i żebyśmy się nie widzieli za kilka lat!";break;case 21<e&&e<=25:title="Cel już jest blisko!",desc="Najwyższa pora wziąć myszkę w swoje ręce, to ostatni dzwonek przed wieczną chwałą czarodzieja!";break;case 25<e&&e<30:title="Chyba złe wieści...",desc="Wieczna chwała czarodzieja jest już bardzo blisko i raczej się to nie zmieni. Twoim jedynym towarzyszem w życiu będzie upływający czas ku wiecznej chwale.";break;case 30<=e:wizardWrapper.classList.remove("hidden"),title="Gratulacje czarodzieju!",desc="Można powiedzieć że cel został osiągnięty... <br> Czy właśnie tego chciałeś? Wykorzystaj resztki swojego marnego życia."}resultTitle.innerHTML=title,resultDesc.innerHTML=desc,home.classList.add("fade-out"),body.classList.add("fade"),scrollTop(),setTimeout(function(){home.classList.remove("active"),body.classList.remove("fade"),result.classList.add("active")},1e3);var n=setInterval(function(){date_future=new Date(s+wizardAge,a,o),date_now=new Date,date_start=new Date(s,a,o),seconds=Math.floor((date_future-date_now)/1e3),minutes=Math.floor(seconds/60),hours=Math.floor(minutes/60),days=Math.floor(hours/24),days<0&&hours<=0&&minutes<=0&&seconds<=0&&(clearInterval(n),timerWrapper.classList.add("hidden")),hours-=24*days,minutes=minutes-24*days*60-60*hours,seconds=seconds-24*days*60*60-60*hours*60-60*minutes,resultDays.innerHTML=10<=days?days:"0"+days,resultHours.innerHTML=10<=hours?hours:"0"+hours,resultMinutes.innerHTML=10<=minutes?minutes:"0"+minutes,resultSeconds.innerHTML=10<=seconds?seconds:"0"+seconds;var e=date_future.getTime()-date_start.getTime(),t=date_now.getTime()-date_start.getTime(),r=Math.round(t/e*100);progressBar.style.width=progressValue.innerHTML=r+"%"},1e3)}form.addEventListener("submit",function(e){e.preventDefault(),validateDate()&&initResult(year.value,month.value,day.value)});